@model TblCalisma
@{
    ViewData["Title"] = "CalismaEkle";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<div class="col-md-6 grid-margin stretch-card">
    <div class="card">
        <div class="card-body">
            <h4 class="card-title">Çalışma Ekleme Formu</h4>

            <form class="forms-sample" asp-action="CalismaForm" method="post" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Kategori</label>
                    <select class="form-control select2"  asp-for="Kategori" asp-items="ViewBag.Kategori">
                    </select>
                </div>
                <div class="form-group">
                    <label>Çalışma Adı</label>
                    <input type="text" class="form-control" placeholder="Çalışma Adı" asp-for="CalismaAdi">
                </div>



                <div class="form-group">
                    <label>Resim</label>
                    <input type="file" class="file-upload-default" name="uploadedFile" id="filePicker" onchange="GetFileSizeNameAndType()">
                    <div class="input-group col-xs-12">
                        <input type="text" class="form-control file-upload-info" disabled="" id="imageinput" placeholder="Upload Image">
                        <span class="input-group-append">
                            <button class="file-upload-browse btn btn-primary" onclick="DosyaSec()" type="button">Yükle</button>
                        </span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="exampleInputUsername1">Çalışma Açıklaması</label>
                    <textarea type="text" class="form-control" placeholder="Çalışma Açıklaması" asp-for="Aciklama"></textarea>
                </div>


                <button type="submit" class="btn btn-primary mr-2">Ekle</button>
                <button class="btn btn-light">İptal</button>
            </form>
        </div>
    </div>
</div>
<script>
    function kontrol() {
        alert("asdasd");
    }
    function DosyaSec() {
        $('#filePicker').click();
    }

   
    function GetFileSizeNameAndType() {
        var fi = document.getElementById('filePicker'); // GET THE FILE INPUT AS VARIABLE.

        var totalFileSize = 0;

        // VALIDATE OR CHECK IF ANY FILE IS SELECTED.
        if (fi.files.length > 0) {
            // RUN A LOOP TO CHECK EACH SELECTED FILE.
            for (var i = 0; i <= fi.files.length - 1; i++) {
                //ACCESS THE SIZE PROPERTY OF THE ITEM OBJECT IN FILES COLLECTION. IN THIS WAY ALSO GET OTHER PROPERTIES LIKE FILENAME AND FILETYPE
                var fsize = fi.files.item(i).size;
                totalFileSize = totalFileSize + fsize;
                
                $('#imageinput').val(fi.files.item(i).name);
               
            }
        }
       
    }
</script>